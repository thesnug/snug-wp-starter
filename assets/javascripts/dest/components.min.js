(function(){var h,s,o,r,i=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;(r=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,o,n,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),r=[],s=0,i=(n=t.childNodes).length;s<i;s++)o=n[s],r.push(this.add_option(o,e,t.disabled));return r},t.prototype.add_option=function(t,e,s){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===s?s:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,s,i,o,n;for(o=new r,s=0,i=(n=t.childNodes).length;s<i;s++)e=n[s],o.add_node(e);return o.parsed},s=function(){function s(t,e){this.form_field=t,this.options=null!=e?e:{},this.label_click_handler=i(this.label_click_handler,this),s.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return s.prototype.set_default_values=function(){var e,s;return this.click_test_action=(e=this,function(t){return e.test_active_click(t)}),this.activate_action=(s=this,function(t){return s.activate_field(t)}),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},s.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||s.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||s.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||s.default_no_result_text},s.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},s.prototype.mouse_enter=function(){return this.mouse_on_container=!0},s.prototype.mouse_leave=function(){return this.mouse_on_container=!1},s.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout((e=this,function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var e},s.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((e=this,function(){return e.blur_test()}),100);var e},s.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},s.prototype.results_option_build=function(t){var e,s,i,o,n,r,h;for(e="",o=h=0,n=(r=this.results_data).length;o<n&&((i="")!==(i=(s=r[o]).group?this.result_add_group(s):this.result_add_option(s))&&(h++,e+=i),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s))),!(h>=this.max_shown_results));o++);return e},s.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(s=document.createElement("li")).className=e.join(" "),t.style&&(s.style.cssText=t.style),s.setAttribute("data-option-array-index",t.array_index),s.innerHTML=t.highlighted_html||t.html,t.title&&(s.title=t.title),this.outerHTML(s)):""},s.prototype.result_add_group=function(t){var e,s;return(t.search_match||t.group_match)&&0<t.active_options?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(s=document.createElement("li")).className=e.join(" "),s.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(s.title=t.title),this.outerHTML(s)):""},s.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},s.prototype.reset_single_select_options=function(){var t,e,s,i,o;for(o=[],t=0,e=(s=this.results_data).length;t<e;t++)(i=s[t]).selected?o.push(i.selected=!1):o.push(void 0);return o},s.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},s.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},s.prototype.winnow_results=function(t){var e,s,i,o,n,r,h,l,c,_,a,u,d,p,f;for(this.no_results_clear(),_=0,e=(h=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(e),i=0,o=(l=this.results_data).length;i<o;i++)(n=l[i]).search_match=!1,u=a=null,n.highlighted_html="",this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(a=this.results_data[n.group_array_index]).active_options&&a.search_match&&(_+=1),a.active_options+=1),f=n.group?n.label:n.text,n.group&&!this.group_search||(u=this.search_string_match(f,c),n.search_match=null!=u,n.search_match&&!n.group&&(_+=1),n.search_match?(h.length&&(d=u.index,r=f.slice(0,d),s=f.slice(d,d+h.length),p=f.slice(d+h.length),n.highlighted_html=this.escape_html(r)+"<em>"+this.escape_html(s)+"</em>"+this.escape_html(p)),null!=a&&(a.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),_<1&&h.length?(this.update_results_content(""),this.no_results(h)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},s.prototype.get_search_regex=function(t){var e,s;return s=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(s="^"+s),e=this.case_sensitive_search?"":"i",new RegExp(s,e)},s.prototype.search_string_match=function(t,e){var s;return s=e.exec(t),!this.search_contains&&(null!=s?s[1]:void 0)&&(s.index+=1),s},s.prototype.choices_count=function(){var t,e,s;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(s=this.form_field.options).length;t<e;t++)s[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},s.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},s.prototype.keydown_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==s&&this.pending_backstroke&&this.clear_backstroke(),s){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},s.prototype.keyup_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),s){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},s.prototype.clipboard_event_checker=function(t){var e;if(!this.is_disabled)return setTimeout((e=this,function(){return e.results_search()}),50)},s.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},s.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},s.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},s.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},s.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},s.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},s.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <input class="chosen-focus-input" type="text" autocomplete="off" />\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},s.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},s.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},s.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},s.default_multiple_text="Select Some Options",s.default_single_text="Select an Option",s.default_no_result_text="No results match",s}(),(h=jQuery).fn.extend({chosen:function(i){return s.browser_is_supported()?this.each(function(t){var e,s;s=(e=h(this)).data("chosen"),"destroy"!==i?s instanceof o||e.data("chosen",new o(this,i)):s instanceof o&&s.destroy()}):this}}),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var s in e)n.call(e,s)&&(t[s]=e[s]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,s),e.prototype.setup=function(){return this.form_field_jq=h(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},e.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={class:t.join(" "),title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=h("<div />",e),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input.chosen-search-input"),this.focus_field=this.container.find("input.chosen-focus-input"),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var e,s,i,o,n,r,h,l,c,_,a,u,d,p,f,g,m,v,b,y,w,x,k,C,T,I,j,q,t,D,M,N;return this.container.on("touchstart.chosen",(s=this,function(t){s.container_mousedown(t)})),this.container.on("touchend.chosen",(i=this,function(t){i.container_mouseup(t)})),this.container.on("mousedown.chosen",(o=this,function(t){o.container_mousedown(t)})),this.container.on("mouseup.chosen",(n=this,function(t){n.container_mouseup(t)})),this.container.on("mouseenter.chosen",(r=this,function(t){r.mouse_enter(t)})),this.container.on("mouseleave.chosen",(h=this,function(t){h.mouse_leave(t)})),this.search_results.on("mouseup.chosen",(l=this,function(t){l.search_results_mouseup(t)})),this.search_results.on("mouseover.chosen",(c=this,function(t){c.search_results_mouseover(t)})),this.search_results.on("mouseout.chosen",(_=this,function(t){_.search_results_mouseout(t)})),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",(a=this,function(t){a.search_results_mousewheel(t)})),this.search_results.on("touchstart.chosen",(u=this,function(t){u.search_results_touchstart(t)})),this.search_results.on("touchmove.chosen",(d=this,function(t){d.search_results_touchmove(t)})),this.search_results.on("touchend.chosen",(p=this,function(t){p.search_results_touchend(t)})),this.form_field_jq.on("chosen:updated.chosen",(f=this,function(t){f.results_update_field(t)})),this.form_field_jq.on("chosen:activate.chosen",(g=this,function(t){g.activate_field(t)})),this.form_field_jq.on("chosen:open.chosen",(m=this,function(t){m.container_mousedown(t)})),this.form_field_jq.on("chosen:close.chosen",(v=this,function(t){v.close_field(t)})),this.search_field.on("blur.chosen",(b=this,function(t){b.input_blur(t)})),this.search_field.on("keyup.chosen",(y=this,function(t){y.keyup_checker(t)})),this.search_field.on("keydown.chosen",(w=this,function(t){w.keydown_checker(t)})),this.search_field.on("focus.chosen",(x=this,function(t){x.input_focus(t)})),this.search_field.on("cut.chosen",(k=this,function(t){k.clipboard_event_checker(t)})),this.search_field.on("paste.chosen",(C=this,function(t){C.clipboard_event_checker(t)})),this.is_multiple?this.search_choices.on("click.chosen",(N=this,function(t){N.choices_click(t)})):(this.container.on("click.chosen",function(t){t.preventDefault()}),this.focus_field.on("blur.chosen",(M=this,function(t){M.input_blur(t)})),this.focus_field.on("focus.chosen",(D=this,function(t){D.input_focus(t)})),e=function(){return t.search_field.val(t.focus_field.val()),t.focus_field.val("")},(t=this).focus_field.on("keyup.chosen",(q=this,function(t){e(),q.keyup_checker(t)})),this.focus_field.on("keydown.chosen",(j=this,function(t){e(),j.keydown_checker(t)})),this.focus_field.on("cut.chosen",(I=this,function(t){setTimeout(e,0),I.clipboard_event_checker(t)})),this.focus_field.on("paste.chosen",(T=this,function(t){setTimeout(e,0),T.clipboard_event_checker(t)})))},e.prototype.destroy=function(){return h(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},e.prototype.container_mousedown=function(t){var e;if(!this.is_disabled)return!t||"mousedown"!==(e=t.type)&&"touchstart"!==e||this.results_showing||t.preventDefault(),null!=t&&h(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||h(t.target)[0]!==this.selected_item[0]&&!h(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),h(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},e.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},e.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},e.prototype.close_field=function(){return h(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},e.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.focus()},e.prototype.test_active_click=function(t){var e;return(e=h(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.focus_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.focus_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(t){var e,s,i,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop())<=(e=(s=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-i?e-i:0);if(s<o)return this.search_results.scrollTop(s)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(t){return this.search_results.html(t)},e.prototype.results_hide=function(){var t;return this.results_showing&&(this.result_clear_highlight(),setTimeout((t=this,function(){return t.focus_field.focus()}),0),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(t){var e,s;if(this.form_field.tabIndex)return s=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=s,null!=(e=this.focus_field[0])?e.tabIndex=s:void 0},e.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=h("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(t){var e;if((e=h(t.target).hasClass("active-result")?h(t.target):h(t.target).parents(".active-result").first()).length)return this.result_highlight=e,this.result_select(t),this.search_field.focus()},e.prototype.search_results_mouseover=function(t){var e;if(e=h(t.target).hasClass("active-result")?h(t.target):h(t.target).parents(".active-result").first())return this.result_do_highlight(e)},e.prototype.search_results_mouseout=function(t){if(h(t.target).hasClass("active-result")||h(t.target).parents(".active-result").first())return this.result_clear_highlight()},e.prototype.choice_build=function(t){var e,s,i;return e=h("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((s=h("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).on("click.chosen",(i=this,function(t){return i.choice_destroy_link_click(t)})),e.append(s)),this.search_container.before(e)},e.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(h(t.target))},e.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},e.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(t){var e,s;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(s=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):this.single_set_selected_text(this.choice_label(s)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},e.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},e.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},e.prototype.get_search_field_value=function(){return this.search_field.val()},e.prototype.get_search_text=function(){return h.trim(this.get_search_field_value())},e.prototype.escape_html=function(t){return h("<div/>").text(t).html()},e.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},e.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.search_field_scale=function(){var t,e,s,i,o,n,r;if(this.is_multiple){for(o={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},e=0,s=(n=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;e<s;e++)o[i=n[e]]=this.search_field.css(i);return(t=h("<div />").css(o)).text(this.get_search_field_value()),h("body").append(t),r=t.width()+25,t.remove(),this.container.is(":visible")&&(r=Math.min(this.container.outerWidth()-10,r)),this.search_field.width(r)}},e.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},e}()}).call(this);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNob3Nlbi5qcXVlcnkuanMiXSwibmFtZXMiOlsiJCIsIkFic3RyYWN0Q2hvc2VuIiwiQ2hvc2VuIiwiU2VsZWN0UGFyc2VyIiwiYmluZCIsImZuIiwibWUiLCJhcHBseSIsImFyZ3VtZW50cyIsImhhc1Byb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInRoaXMiLCJvcHRpb25zX2luZGV4IiwicGFyc2VkIiwicHJvdG90eXBlIiwiYWRkX25vZGUiLCJjaGlsZCIsIm5vZGVOYW1lIiwidG9VcHBlckNhc2UiLCJhZGRfZ3JvdXAiLCJhZGRfb3B0aW9uIiwiZ3JvdXAiLCJncm91cF9wb3NpdGlvbiIsImkiLCJsZW4iLCJvcHRpb24iLCJyZWYiLCJyZXN1bHRzMSIsImxlbmd0aCIsInB1c2giLCJhcnJheV9pbmRleCIsImxhYmVsIiwidGl0bGUiLCJjaGlsZHJlbiIsImRpc2FibGVkIiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsImNoaWxkTm9kZXMiLCJncm91cF9kaXNhYmxlZCIsInRleHQiLCJ2YWx1ZSIsImh0bWwiLCJpbm5lckhUTUwiLCJzZWxlY3RlZCIsImdyb3VwX2FycmF5X2luZGV4IiwiZ3JvdXBfbGFiZWwiLCJzdHlsZSIsImNzc1RleHQiLCJlbXB0eSIsInNlbGVjdF90b19hcnJheSIsInNlbGVjdCIsInBhcnNlciIsImZvcm1fZmllbGQiLCJvcHRpb25zMSIsIm9wdGlvbnMiLCJsYWJlbF9jbGlja19oYW5kbGVyIiwiYnJvd3Nlcl9pc19zdXBwb3J0ZWQiLCJpc19tdWx0aXBsZSIsIm11bHRpcGxlIiwic2V0X2RlZmF1bHRfdGV4dCIsInNldF9kZWZhdWx0X3ZhbHVlcyIsInNldHVwIiwic2V0X3VwX2h0bWwiLCJyZWdpc3Rlcl9vYnNlcnZlcnMiLCJvbl9yZWFkeSIsIl90aGlzIiwiY2xpY2tfdGVzdF9hY3Rpb24iLCJldnQiLCJ0ZXN0X2FjdGl2ZV9jbGljayIsImFjdGl2YXRlX2FjdGlvbiIsImFjdGl2YXRlX2ZpZWxkIiwiYWN0aXZlX2ZpZWxkIiwibW91c2Vfb25fY29udGFpbmVyIiwicmVzdWx0c19zaG93aW5nIiwicmVzdWx0X2hpZ2hsaWdodGVkIiwiaXNfcnRsIiwicnRsIiwidGVzdCIsImFsbG93X3NpbmdsZV9kZXNlbGVjdCIsImRpc2FibGVfc2VhcmNoX3RocmVzaG9sZCIsImRpc2FibGVfc2VhcmNoIiwiZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoIiwiZ3JvdXBfc2VhcmNoIiwic2VhcmNoX2NvbnRhaW5zIiwic2luZ2xlX2JhY2tzdHJva2VfZGVsZXRlIiwibWF4X3NlbGVjdGVkX29wdGlvbnMiLCJJbmZpbml0eSIsImluaGVyaXRfc2VsZWN0X2NsYXNzZXMiLCJkaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMiLCJkaXNwbGF5X2Rpc2FibGVkX29wdGlvbnMiLCJpbmNsdWRlX2dyb3VwX2xhYmVsX2luX3NlbGVjdGVkIiwibWF4X3Nob3duX3Jlc3VsdHMiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsImNhc2Vfc2Vuc2l0aXZlX3NlYXJjaCIsImhpZGVfcmVzdWx0c19vbl9zZWxlY3QiLCJnZXRBdHRyaWJ1dGUiLCJkZWZhdWx0X3RleHQiLCJwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIiwicGxhY2Vob2xkZXJfdGV4dCIsImRlZmF1bHRfbXVsdGlwbGVfdGV4dCIsInBsYWNlaG9sZGVyX3RleHRfc2luZ2xlIiwiZGVmYXVsdF9zaW5nbGVfdGV4dCIsImVzY2FwZV9odG1sIiwicmVzdWx0c19ub25lX2ZvdW5kIiwibm9fcmVzdWx0c190ZXh0IiwiZGVmYXVsdF9ub19yZXN1bHRfdGV4dCIsImNob2ljZV9sYWJlbCIsIml0ZW0iLCJtb3VzZV9lbnRlciIsIm1vdXNlX2xlYXZlIiwiaW5wdXRfZm9jdXMiLCJzZXRUaW1lb3V0IiwiY29udGFpbmVyX21vdXNlZG93biIsImlucHV0X2JsdXIiLCJibHVyX3Rlc3QiLCJyZXN1bHRzX29wdGlvbl9idWlsZCIsImNvbnRlbnQiLCJkYXRhIiwiZGF0YV9jb250ZW50Iiwic2hvd25fcmVzdWx0cyIsInJlc3VsdHNfZGF0YSIsInJlc3VsdF9hZGRfZ3JvdXAiLCJyZXN1bHRfYWRkX29wdGlvbiIsImZpcnN0IiwiY2hvaWNlX2J1aWxkIiwic2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0Iiwib3B0aW9uX2VsIiwic2VhcmNoX21hdGNoIiwiaW5jbHVkZV9vcHRpb25faW5fcmVzdWx0cyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImpvaW4iLCJzZXRBdHRyaWJ1dGUiLCJoaWdobGlnaHRlZF9odG1sIiwib3V0ZXJIVE1MIiwiZ3JvdXBfZWwiLCJncm91cF9tYXRjaCIsImFjdGl2ZV9vcHRpb25zIiwicmVzdWx0c191cGRhdGVfZmllbGQiLCJyZXN1bHRzX3Jlc2V0X2NsZWFudXAiLCJyZXN1bHRfY2xlYXJfaGlnaGxpZ2h0IiwicmVzdWx0c19idWlsZCIsIndpbm5vd19yZXN1bHRzIiwicmVzZXRfc2luZ2xlX3NlbGVjdF9vcHRpb25zIiwicmVzdWx0IiwicmVzdWx0c190b2dnbGUiLCJyZXN1bHRzX2hpZGUiLCJyZXN1bHRzX3Nob3ciLCJyZXN1bHRzX3NlYXJjaCIsImVzY2FwZWRRdWVyeSIsImZpeCIsInByZWZpeCIsInF1ZXJ5IiwicmVnZXgiLCJyZXN1bHRzIiwicmVzdWx0c19ncm91cCIsInN0YXJ0cG9zIiwic3VmZml4Iiwibm9fcmVzdWx0c19jbGVhciIsImdldF9zZWFyY2hfdGV4dCIsInJlcGxhY2UiLCJnZXRfc2VhcmNoX3JlZ2V4Iiwic2VhcmNoX3N0cmluZ19tYXRjaCIsImluZGV4Iiwic2xpY2UiLCJ1cGRhdGVfcmVzdWx0c19jb250ZW50Iiwibm9fcmVzdWx0cyIsInNraXBfaGlnaGxpZ2h0Iiwid2lubm93X3Jlc3VsdHNfc2V0X2hpZ2hsaWdodCIsImVzY2FwZWRfc2VhcmNoX3N0cmluZyIsInJlZ2V4X2ZsYWciLCJyZWdleF9zdHJpbmciLCJSZWdFeHAiLCJzZWFyY2hfc3RyaW5nIiwibWF0Y2giLCJleGVjIiwiY2hvaWNlc19jb3VudCIsInNlbGVjdGVkX29wdGlvbl9jb3VudCIsImNob2ljZXNfY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsImlzX2Rpc2FibGVkIiwia2V5ZG93bl9jaGVja2VyIiwic3Ryb2tlIiwid2hpY2giLCJrZXlDb2RlIiwic2VhcmNoX2ZpZWxkX3NjYWxlIiwicGVuZGluZ19iYWNrc3Ryb2tlIiwiY2xlYXJfYmFja3N0cm9rZSIsImJhY2tzdHJva2VfbGVuZ3RoIiwiZ2V0X3NlYXJjaF9maWVsZF92YWx1ZSIsInJlc3VsdF9zZWxlY3QiLCJrZXl1cF9hcnJvdyIsImtleWRvd25fYXJyb3ciLCJrZXl1cF9jaGVja2VyIiwia2V5ZG93bl9iYWNrc3Ryb2tlIiwiY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIiLCJjb250YWluZXJfd2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwic2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydCIsInRvdWNoX3N0YXJ0ZWQiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIiLCJzZWFyY2hfcmVzdWx0c190b3VjaG1vdmUiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW91dCIsInNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kIiwic2VhcmNoX3Jlc3VsdHNfbW91c2V1cCIsImVsZW1lbnQiLCJ0bXAiLCJhcHBlbmRDaGlsZCIsImdldF9zaW5nbGVfaHRtbCIsImdldF9tdWx0aV9odG1sIiwiZ2V0X25vX3Jlc3VsdHNfaHRtbCIsInRlcm1zIiwid2luZG93IiwibmF2aWdhdG9yIiwiYXBwTmFtZSIsImRvY3VtZW50TW9kZSIsInVzZXJBZ2VudCIsImpRdWVyeSIsImV4dGVuZCIsImNob3NlbiIsImVhY2giLCJpbnB1dF9maWVsZCIsIiR0aGlzIiwiZGVzdHJveSIsInN1cGVyQ2xhc3MiLCJfX3N1cGVyX18iLCJjb25zdHJ1Y3RvciIsInBhcmVudCIsImtleSIsImNhbGwiLCJjdG9yIiwiZm9ybV9maWVsZF9qcSIsImN1cnJlbnRfc2VsZWN0ZWRJbmRleCIsInNlbGVjdGVkSW5kZXgiLCJjb250YWluZXJfY2xhc3NlcyIsImNvbnRhaW5lcl9wcm9wcyIsImNsYXNzIiwiaWQiLCJjb250YWluZXIiLCJoaWRlIiwiYWZ0ZXIiLCJkcm9wZG93biIsImZpbmQiLCJzZWFyY2hfZmllbGQiLCJmb2N1c19maWVsZCIsInNlYXJjaF9yZXN1bHRzIiwic2VhcmNoX25vX3Jlc3VsdHMiLCJzZWFyY2hfY2hvaWNlcyIsInNlYXJjaF9jb250YWluZXIiLCJzZWxlY3RlZF9pdGVtIiwic2V0X3RhYl9pbmRleCIsInNldF9sYWJlbF9iZWhhdmlvciIsInRyaWdnZXIiLCJ0cmFuc2Zlcl92YWx1ZSIsIm9uIiwiY29udGFpbmVyX21vdXNldXAiLCJzZWFyY2hfcmVzdWx0c19tb3VzZXdoZWVsIiwiY2xvc2VfZmllbGQiLCJ2YWwiLCJvd25lckRvY3VtZW50Iiwib2ZmIiwiZm9ybV9maWVsZF9sYWJlbCIsInRhYkluZGV4IiwicmVtb3ZlIiwicmVtb3ZlRGF0YSIsInNob3ciLCJzZWFyY2hfZmllbGRfZGlzYWJsZWQiLCJwYXJlbnRzIiwiaXMiLCJ0b2dnbGVDbGFzcyIsInR5cGUiLCJ0YXJnZXQiLCJoYXNDbGFzcyIsInJlc3VsdHNfcmVzZXQiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YVkiLCJ3aGVlbERlbHRhIiwiZGV0YWlsIiwic2Nyb2xsVG9wIiwicmVtb3ZlQ2xhc3MiLCJzaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0IiwiYmx1ciIsImFkZENsYXNzIiwiZm9jdXMiLCJhY3RpdmVfY29udGFpbmVyIiwiY2xvc2VzdCIsInBhcnNpbmciLCJyZWFkT25seSIsInJlc3VsdF9kb19oaWdobGlnaHQiLCJlbCIsImhpZ2hfYm90dG9tIiwiaGlnaF90b3AiLCJtYXhIZWlnaHQiLCJ2aXNpYmxlX3RvcCIsInJlc3VsdF9oaWdobGlnaHQiLCJwYXJzZUludCIsImNzcyIsInBvc2l0aW9uIiwidG9wIiwib3V0ZXJIZWlnaHQiLCJ0aSIsImNob2ljZSIsImNsb3NlX2xpbmsiLCJkYXRhLW9wdGlvbi1hcnJheS1pbmRleCIsImNob2ljZV9kZXN0cm95X2xpbmtfY2xpY2siLCJhcHBlbmQiLCJiZWZvcmUiLCJzdG9wUHJvcGFnYXRpb24iLCJjaG9pY2VfZGVzdHJveSIsImxpbmsiLCJyZXN1bHRfZGVzZWxlY3QiLCJ0cmlnZ2VyX2Zvcm1fZmllbGRfY2hhbmdlIiwiaGlnaCIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwic2luZ2xlX2Rlc2VsZWN0X2NvbnRyb2xfYnVpbGQiLCJwb3MiLCJyZXN1bHRfZGF0YSIsImRlc2VsZWN0ZWQiLCJ0cmltIiwiZG9faGlnaCIsInNlbGVjdGVkX3Jlc3VsdHMiLCJub19yZXN1bHRzX2h0bWwiLCJuZXh0X3NpYiIsIm5leHRBbGwiLCJwcmV2X3NpYnMiLCJwcmV2QWxsIiwibmV4dF9hdmFpbGFibGVfZGVzdHJveSIsInNpYmxpbmdzIiwibGFzdCIsImRpdiIsInN0eWxlX2Jsb2NrIiwic3R5bGVzIiwibGVmdCIsImRpc3BsYXkiLCJ3aGl0ZVNwYWNlIiwiTWF0aCIsIm1pbiIsIm91dGVyV2lkdGgiLCJleHRyYSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxJQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxFQUNBQyxFQUFBLFNBQUFDLEVBQUFDLEdBQUEsT0FBQSxXQUFBLE9BQUFELEVBQUFFLE1BQUFELEVBQUFFLGFBRUFDLEVBQUEsR0FBQUMsZ0JBRUFQLEVBQUEsV0FDQSxTQUFBQSxJQUNBUSxLQUFBQyxjQUFBLEVBQ0FELEtBQUFFLE9BQUEsR0ErREEsT0E1REFWLEVBQUFXLFVBQUFDLFNBQUEsU0FBQUMsR0FDQSxNQUFBLGFBQUFBLEVBQUFDLFNBQUFDLGNBQ0FQLEtBQUFRLFVBQUFILEdBRUFMLEtBQUFTLFdBQUFKLElBSUFiLEVBQUFXLFVBQUFLLFVBQUEsU0FBQUUsR0FDQSxJQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQWFBLElBWkFMLEVBQUFYLEtBQUFFLE9BQUFlLE9BQ0FqQixLQUFBRSxPQUFBZ0IsS0FBQSxDQUNBQyxZQUFBUixFQUNBRCxPQUFBLEVBQ0FVLE1BQUFWLEVBQUFVLE1BQ0FDLE1BQUFY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QUFnTCxvQkFDQWhMLEtBQUFnTCxtQkFBQStGLFlBQUEsdUJBRUEvUSxLQUFBZ0wsbUJBQUEsTUFHQXpMLEVBQUFZLFVBQUE0SyxtQkFBQSxXQUNBLElBQUFtSixFQUFBdFQsRUFBQUMsRUFBQXNCLEVBQUFnUyxFQUFBQyxFQUFBekksRUFDQSxHQUFBM0wsS0FBQThDLFlBQUEsQ0FXQSxJQVJBcVIsRUFBQSxDQUNBbEMsU0FBQSxXQUNBb0MsS0FBQSxVQUNBbkMsSUFBQSxVQUNBb0MsUUFBQSxPQUNBQyxXQUFBLE9BR0EzVCxFQUFBLEVBQUFDLEdBREF1VCxFQUFBLENBQUEsV0FBQSxZQUFBLGFBQUEsYUFBQSxhQUFBLGdCQUFBLGtCQUNBblQsT0FBQUwsRUFBQUMsRUFBQUQsSUFFQXVULEVBREFoUyxFQUFBaVMsRUFBQXhULElBQ0FaLEtBQUEwTyxhQUFBc0QsSUFBQTdQLEdBVUEsT0FSQStSLEVBQUE3VSxFQUFBLFdBQUEyUyxJQUFBbUMsSUFDQXZTLEtBQUE1QixLQUFBbUwsMEJBQ0E5TCxFQUFBLFFBQUFvVCxPQUFBeUIsR0FDQXZJLEVBQUF1SSxFQUFBdkksUUFBQSxHQUNBdUksRUFBQXBFLFNBQ0E5UCxLQUFBcU8sVUFBQThCLEdBQUEsY0FDQXhFLEVBQUE2SSxLQUFBQyxJQUFBelUsS0FBQXFPLFVBQUFxRyxhQUFBLEdBQUEvSSxJQUVBM0wsS0FBQTBPLGFBQUEvQyxNQUFBQSxLQUdBcE0sRUFBQVksVUFBQTRTLDBCQUFBLFNBQUE0QixHQUVBLE9BREEzVSxLQUFBOE4sY0FBQXFCLFFBQUEsUUFBQXdGLEdBQ0EzVSxLQUFBOE4sY0FBQXFCLFFBQUEsU0FBQXdGLElBR0FwVixFQXR2QkEsS0EwdkJBcU8sS0FBQTVOIiwiZmlsZSI6ImNvbXBvbmVudHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICB2YXIgJCwgQWJzdHJhY3RDaG9zZW4sIENob3NlbiwgU2VsZWN0UGFyc2VyLFxuICAgIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgU2VsZWN0UGFyc2VyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFNlbGVjdFBhcnNlcigpIHtcbiAgICAgIHRoaXMub3B0aW9uc19pbmRleCA9IDA7XG4gICAgICB0aGlzLnBhcnNlZCA9IFtdO1xuICAgIH1cblxuICAgIFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX25vZGUgPSBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiT1BUR1JPVVBcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRfZ3JvdXAoY2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkX29wdGlvbihjaGlsZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX2dyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgIHZhciBncm91cF9wb3NpdGlvbiwgaSwgbGVuLCBvcHRpb24sIHJlZiwgcmVzdWx0czE7XG4gICAgICBncm91cF9wb3NpdGlvbiA9IHRoaXMucGFyc2VkLmxlbmd0aDtcbiAgICAgIHRoaXMucGFyc2VkLnB1c2goe1xuICAgICAgICBhcnJheV9pbmRleDogZ3JvdXBfcG9zaXRpb24sXG4gICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICBsYWJlbDogZ3JvdXAubGFiZWwsXG4gICAgICAgIHRpdGxlOiBncm91cC50aXRsZSA/IGdyb3VwLnRpdGxlIDogdm9pZCAwLFxuICAgICAgICBjaGlsZHJlbjogMCxcbiAgICAgICAgZGlzYWJsZWQ6IGdyb3VwLmRpc2FibGVkLFxuICAgICAgICBjbGFzc2VzOiBncm91cC5jbGFzc05hbWVcbiAgICAgIH0pO1xuICAgICAgcmVmID0gZ3JvdXAuY2hpbGROb2RlcztcbiAgICAgIHJlc3VsdHMxID0gW107XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgb3B0aW9uID0gcmVmW2ldO1xuICAgICAgICByZXN1bHRzMS5wdXNoKHRoaXMuYWRkX29wdGlvbihvcHRpb24sIGdyb3VwX3Bvc2l0aW9uLCBncm91cC5kaXNhYmxlZCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHMxO1xuICAgIH07XG5cbiAgICBTZWxlY3RQYXJzZXIucHJvdG90eXBlLmFkZF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb24sIGdyb3VwX3Bvc2l0aW9uLCBncm91cF9kaXNhYmxlZCkge1xuICAgICAgaWYgKG9wdGlvbi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIk9QVElPTlwiKSB7XG4gICAgICAgIGlmIChvcHRpb24udGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgIGlmIChncm91cF9wb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlZFtncm91cF9wb3NpdGlvbl0uY2hpbGRyZW4gKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wYXJzZWQucHVzaCh7XG4gICAgICAgICAgICBhcnJheV9pbmRleDogdGhpcy5wYXJzZWQubGVuZ3RoLFxuICAgICAgICAgICAgb3B0aW9uc19pbmRleDogdGhpcy5vcHRpb25zX2luZGV4LFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICAgIHRleHQ6IG9wdGlvbi50ZXh0LFxuICAgICAgICAgICAgaHRtbDogb3B0aW9uLmlubmVySFRNTCxcbiAgICAgICAgICAgIHRpdGxlOiBvcHRpb24udGl0bGUgPyBvcHRpb24udGl0bGUgOiB2b2lkIDAsXG4gICAgICAgICAgICBzZWxlY3RlZDogb3B0aW9uLnNlbGVjdGVkLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGdyb3VwX2Rpc2FibGVkID09PSB0cnVlID8gZ3JvdXBfZGlzYWJsZWQgOiBvcHRpb24uZGlzYWJsZWQsXG4gICAgICAgICAgICBncm91cF9hcnJheV9pbmRleDogZ3JvdXBfcG9zaXRpb24sXG4gICAgICAgICAgICBncm91cF9sYWJlbDogZ3JvdXBfcG9zaXRpb24gIT0gbnVsbCA/IHRoaXMucGFyc2VkW2dyb3VwX3Bvc2l0aW9uXS5sYWJlbCA6IG51bGwsXG4gICAgICAgICAgICBjbGFzc2VzOiBvcHRpb24uY2xhc3NOYW1lLFxuICAgICAgICAgICAgc3R5bGU6IG9wdGlvbi5zdHlsZS5jc3NUZXh0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wYXJzZWQucHVzaCh7XG4gICAgICAgICAgICBhcnJheV9pbmRleDogdGhpcy5wYXJzZWQubGVuZ3RoLFxuICAgICAgICAgICAgb3B0aW9uc19pbmRleDogdGhpcy5vcHRpb25zX2luZGV4LFxuICAgICAgICAgICAgZW1wdHk6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zX2luZGV4ICs9IDE7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBTZWxlY3RQYXJzZXI7XG5cbiAgfSkoKTtcblxuICBTZWxlY3RQYXJzZXIuc2VsZWN0X3RvX2FycmF5ID0gZnVuY3Rpb24oc2VsZWN0KSB7XG4gICAgdmFyIGNoaWxkLCBpLCBsZW4sIHBhcnNlciwgcmVmO1xuICAgIHBhcnNlciA9IG5ldyBTZWxlY3RQYXJzZXIoKTtcbiAgICByZWYgPSBzZWxlY3QuY2hpbGROb2RlcztcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNoaWxkID0gcmVmW2ldO1xuICAgICAgcGFyc2VyLmFkZF9ub2RlKGNoaWxkKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlci5wYXJzZWQ7XG4gIH07XG5cbiAgQWJzdHJhY3RDaG9zZW4gPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RDaG9zZW4oZm9ybV9maWVsZCwgb3B0aW9uczEpIHtcbiAgICAgIHRoaXMuZm9ybV9maWVsZCA9IGZvcm1fZmllbGQ7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zMSAhPSBudWxsID8gb3B0aW9uczEgOiB7fTtcbiAgICAgIHRoaXMubGFiZWxfY2xpY2tfaGFuZGxlciA9IGJpbmQodGhpcy5sYWJlbF9jbGlja19oYW5kbGVyLCB0aGlzKTtcbiAgICAgIGlmICghQWJzdHJhY3RDaG9zZW4uYnJvd3Nlcl9pc19zdXBwb3J0ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlzX211bHRpcGxlID0gdGhpcy5mb3JtX2ZpZWxkLm11bHRpcGxlO1xuICAgICAgdGhpcy5zZXRfZGVmYXVsdF90ZXh0KCk7XG4gICAgICB0aGlzLnNldF9kZWZhdWx0X3ZhbHVlcygpO1xuICAgICAgdGhpcy5zZXR1cCgpO1xuICAgICAgdGhpcy5zZXRfdXBfaHRtbCgpO1xuICAgICAgdGhpcy5yZWdpc3Rlcl9vYnNlcnZlcnMoKTtcbiAgICAgIHRoaXMub25fcmVhZHkoKTtcbiAgICB9XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuc2V0X2RlZmF1bHRfdmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNsaWNrX3Rlc3RfYWN0aW9uID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMudGVzdF9hY3RpdmVfY2xpY2soZXZ0KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgdGhpcy5hY3RpdmF0ZV9hY3Rpb24gPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5hY3RpdmF0ZV9maWVsZChldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICB0aGlzLmFjdGl2ZV9maWVsZCA9IGZhbHNlO1xuICAgICAgdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzdWx0c19zaG93aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHRlZCA9IG51bGw7XG4gICAgICB0aGlzLmlzX3J0bCA9IHRoaXMub3B0aW9ucy5ydGwgfHwgL1xcYmNob3Nlbi1ydGxcXGIvLnRlc3QodGhpcy5mb3JtX2ZpZWxkLmNsYXNzTmFtZSk7XG4gICAgICB0aGlzLmFsbG93X3NpbmdsZV9kZXNlbGVjdCA9ICh0aGlzLm9wdGlvbnMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0ICE9IG51bGwpICYmICh0aGlzLmZvcm1fZmllbGQub3B0aW9uc1swXSAhPSBudWxsKSAmJiB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1swXS50ZXh0ID09PSBcIlwiID8gdGhpcy5vcHRpb25zLmFsbG93X3NpbmdsZV9kZXNlbGVjdCA6IGZhbHNlO1xuICAgICAgdGhpcy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZV9zZWFyY2hfdGhyZXNob2xkIHx8IDA7XG4gICAgICB0aGlzLmRpc2FibGVfc2VhcmNoID0gdGhpcy5vcHRpb25zLmRpc2FibGVfc2VhcmNoIHx8IGZhbHNlO1xuICAgICAgdGhpcy5lbmFibGVfc3BsaXRfd29yZF9zZWFyY2ggPSB0aGlzLm9wdGlvbnMuZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoIDogdHJ1ZTtcbiAgICAgIHRoaXMuZ3JvdXBfc2VhcmNoID0gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCAhPSBudWxsID8gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCA6IHRydWU7XG4gICAgICB0aGlzLnNlYXJjaF9jb250YWlucyA9IHRoaXMub3B0aW9ucy5zZWFyY2hfY29udGFpbnMgfHwgZmFsc2U7XG4gICAgICB0aGlzLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSA9IHRoaXMub3B0aW9ucy5zaW5nbGVfYmFja3N0cm9rZV9kZWxldGUgIT0gbnVsbCA/IHRoaXMub3B0aW9ucy5zaW5nbGVfYmFja3N0cm9rZV9kZWxldGUgOiB0cnVlO1xuICAgICAgdGhpcy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyB8fCBJbmZpbml0eTtcbiAgICAgIHRoaXMuaW5oZXJpdF9zZWxlY3RfY2xhc3NlcyA9IHRoaXMub3B0aW9ucy5pbmhlcml0X3NlbGVjdF9jbGFzc2VzIHx8IGZhbHNlO1xuICAgICAgdGhpcy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgPSB0aGlzLm9wdGlvbnMuZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zIDogdHJ1ZTtcbiAgICAgIHRoaXMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zID0gdGhpcy5vcHRpb25zLmRpc3BsYXlfZGlzYWJsZWRfb3B0aW9ucyAhPSBudWxsID8gdGhpcy5vcHRpb25zLmRpc3BsYXlfZGlzYWJsZWRfb3B0aW9ucyA6IHRydWU7XG4gICAgICB0aGlzLmluY2x1ZGVfZ3JvdXBfbGFiZWxfaW5fc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnMuaW5jbHVkZV9ncm91cF9sYWJlbF9pbl9zZWxlY3RlZCB8fCBmYWxzZTtcbiAgICAgIHRoaXMubWF4X3Nob3duX3Jlc3VsdHMgPSB0aGlzLm9wdGlvbnMubWF4X3Nob3duX3Jlc3VsdHMgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgdGhpcy5jYXNlX3NlbnNpdGl2ZV9zZWFyY2ggPSB0aGlzLm9wdGlvbnMuY2FzZV9zZW5zaXRpdmVfc2VhcmNoIHx8IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMuaGlkZV9yZXN1bHRzX29uX3NlbGVjdCA9IHRoaXMub3B0aW9ucy5oaWRlX3Jlc3VsdHNfb25fc2VsZWN0ICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuaGlkZV9yZXN1bHRzX29uX3NlbGVjdCA6IHRydWU7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZXRfZGVmYXVsdF90ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5mb3JtX2ZpZWxkLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIikpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0X3RleHQgPSB0aGlzLmZvcm1fZmllbGQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICB0aGlzLmRlZmF1bHRfdGV4dCA9IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIHx8IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl90ZXh0IHx8IEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbXVsdGlwbGVfdGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdF90ZXh0ID0gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyX3RleHRfc2luZ2xlIHx8IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl90ZXh0IHx8IEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfc2luZ2xlX3RleHQ7XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHRfdGV4dCA9IHRoaXMuZXNjYXBlX2h0bWwodGhpcy5kZWZhdWx0X3RleHQpO1xuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19ub25lX2ZvdW5kID0gdGhpcy5mb3JtX2ZpZWxkLmdldEF0dHJpYnV0ZShcImRhdGEtbm9fcmVzdWx0c190ZXh0XCIpIHx8IHRoaXMub3B0aW9ucy5ub19yZXN1bHRzX3RleHQgfHwgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9ub19yZXN1bHRfdGV4dDtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZV9sYWJlbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmICh0aGlzLmluY2x1ZGVfZ3JvdXBfbGFiZWxfaW5fc2VsZWN0ZWQgJiYgKGl0ZW0uZ3JvdXBfbGFiZWwgIT0gbnVsbCkpIHtcbiAgICAgICAgcmV0dXJuIFwiPGIgY2xhc3M9J2dyb3VwLW5hbWUnPlwiICsgaXRlbS5ncm91cF9sYWJlbCArIFwiPC9iPlwiICsgaXRlbS5odG1sO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uaHRtbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm1vdXNlX2VudGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSB0cnVlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUubW91c2VfbGVhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vdXNlX29uX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuaW5wdXRfZm9jdXMgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVfZmllbGQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pKHRoaXMpKSwgNTApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVfZmllbGQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuaW5wdXRfYmx1ciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKCF0aGlzLm1vdXNlX29uX2NvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmFjdGl2ZV9maWVsZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmJsdXJfdGVzdCgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pKHRoaXMpKSwgMTAwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmxhYmVsX2NsaWNrX2hhbmRsZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcl9tb3VzZWRvd24oZXZ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX29wdGlvbl9idWlsZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjb250ZW50LCBkYXRhLCBkYXRhX2NvbnRlbnQsIGksIGxlbiwgcmVmLCBzaG93bl9yZXN1bHRzO1xuICAgICAgY29udGVudCA9ICcnO1xuICAgICAgc2hvd25fcmVzdWx0cyA9IDA7XG4gICAgICByZWYgPSB0aGlzLnJlc3VsdHNfZGF0YTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBkYXRhID0gcmVmW2ldO1xuICAgICAgICBkYXRhX2NvbnRlbnQgPSAnJztcbiAgICAgICAgaWYgKGRhdGEuZ3JvdXApIHtcbiAgICAgICAgICBkYXRhX2NvbnRlbnQgPSB0aGlzLnJlc3VsdF9hZGRfZ3JvdXAoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YV9jb250ZW50ID0gdGhpcy5yZXN1bHRfYWRkX29wdGlvbihkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YV9jb250ZW50ICE9PSAnJykge1xuICAgICAgICAgIHNob3duX3Jlc3VsdHMrKztcbiAgICAgICAgICBjb250ZW50ICs9IGRhdGFfY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5maXJzdCA6IHZvaWQgMCkge1xuICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkICYmIHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2hvaWNlX2J1aWxkKGRhdGEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zZWxlY3RlZCAmJiAhdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQodGhpcy5jaG9pY2VfbGFiZWwoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvd25fcmVzdWx0cyA+PSB0aGlzLm1heF9zaG93bl9yZXN1bHRzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2FkZF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgIHZhciBjbGFzc2VzLCBvcHRpb25fZWw7XG4gICAgICBpZiAoIW9wdGlvbi5zZWFyY2hfbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMob3B0aW9uKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBjbGFzc2VzID0gW107XG4gICAgICBpZiAoIW9wdGlvbi5kaXNhYmxlZCAmJiAhKG9wdGlvbi5zZWxlY3RlZCAmJiB0aGlzLmlzX211bHRpcGxlKSkge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJhY3RpdmUtcmVzdWx0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbi5kaXNhYmxlZCAmJiAhKG9wdGlvbi5zZWxlY3RlZCAmJiB0aGlzLmlzX211bHRpcGxlKSkge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJkaXNhYmxlZC1yZXN1bHRcIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChcInJlc3VsdC1zZWxlY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXggIT0gbnVsbCkge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJncm91cC1vcHRpb25cIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uLmNsYXNzZXMgIT09IFwiXCIpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKG9wdGlvbi5jbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbl9lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIG9wdGlvbl9lbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oXCIgXCIpO1xuICAgICAgaWYgKG9wdGlvbi5zdHlsZSkge1xuICAgICAgICBvcHRpb25fZWwuc3R5bGUuY3NzVGV4dCA9IG9wdGlvbi5zdHlsZTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbl9lbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW9wdGlvbi1hcnJheS1pbmRleFwiLCBvcHRpb24uYXJyYXlfaW5kZXgpO1xuICAgICAgb3B0aW9uX2VsLmlubmVySFRNTCA9IG9wdGlvbi5oaWdobGlnaHRlZF9odG1sIHx8IG9wdGlvbi5odG1sO1xuICAgICAgaWYgKG9wdGlvbi50aXRsZSkge1xuICAgICAgICBvcHRpb25fZWwudGl0bGUgPSBvcHRpb24udGl0bGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vdXRlckhUTUwob3B0aW9uX2VsKTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9hZGRfZ3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgdmFyIGNsYXNzZXMsIGdyb3VwX2VsO1xuICAgICAgaWYgKCEoZ3JvdXAuc2VhcmNoX21hdGNoIHx8IGdyb3VwLmdyb3VwX21hdGNoKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAoIShncm91cC5hY3RpdmVfb3B0aW9ucyA+IDApKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGNsYXNzZXMgPSBbXTtcbiAgICAgIGNsYXNzZXMucHVzaChcImdyb3VwLXJlc3VsdFwiKTtcbiAgICAgIGlmIChncm91cC5jbGFzc2VzKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChncm91cC5jbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIGdyb3VwX2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgZ3JvdXBfZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcbiAgICAgIGdyb3VwX2VsLmlubmVySFRNTCA9IGdyb3VwLmhpZ2hsaWdodGVkX2h0bWwgfHwgdGhpcy5lc2NhcGVfaHRtbChncm91cC5sYWJlbCk7XG4gICAgICBpZiAoZ3JvdXAudGl0bGUpIHtcbiAgICAgICAgZ3JvdXBfZWwudGl0bGUgPSBncm91cC50aXRsZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm91dGVySFRNTChncm91cF9lbCk7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3VwZGF0ZV9maWVsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRfZGVmYXVsdF90ZXh0KCk7XG4gICAgICBpZiAoIXRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRzX3Jlc2V0X2NsZWFudXAoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgdGhpcy5yZXN1bHRzX2J1aWxkKCk7XG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc2V0X3NpbmdsZV9zZWxlY3Rfb3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIGxlbiwgcmVmLCByZXN1bHQsIHJlc3VsdHMxO1xuICAgICAgcmVmID0gdGhpcy5yZXN1bHRzX2RhdGE7XG4gICAgICByZXN1bHRzMSA9IFtdO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlZltpXTtcbiAgICAgICAgaWYgKHJlc3VsdC5zZWxlY3RlZCkge1xuICAgICAgICAgIHJlc3VsdHMxLnB1c2gocmVzdWx0LnNlbGVjdGVkID0gZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdHMxLnB1c2godm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHMxO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c190b2dnbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2hvdygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19zZWFyY2ggPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICByZXR1cm4gdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS53aW5ub3dfcmVzdWx0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBlc2NhcGVkUXVlcnksIGZpeCwgaSwgbGVuLCBvcHRpb24sIHByZWZpeCwgcXVlcnksIHJlZiwgcmVnZXgsIHJlc3VsdHMsIHJlc3VsdHNfZ3JvdXAsIHNlYXJjaF9tYXRjaCwgc3RhcnRwb3MsIHN1ZmZpeCwgdGV4dDtcbiAgICAgIHRoaXMubm9fcmVzdWx0c19jbGVhcigpO1xuICAgICAgcmVzdWx0cyA9IDA7XG4gICAgICBxdWVyeSA9IHRoaXMuZ2V0X3NlYXJjaF90ZXh0KCk7XG4gICAgICBlc2NhcGVkUXVlcnkgPSBxdWVyeS5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgXCJcXFxcJCZcIik7XG4gICAgICByZWdleCA9IHRoaXMuZ2V0X3NlYXJjaF9yZWdleChlc2NhcGVkUXVlcnkpO1xuICAgICAgcmVmID0gdGhpcy5yZXN1bHRzX2RhdGE7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgb3B0aW9uID0gcmVmW2ldO1xuICAgICAgICBvcHRpb24uc2VhcmNoX21hdGNoID0gZmFsc2U7XG4gICAgICAgIHJlc3VsdHNfZ3JvdXAgPSBudWxsO1xuICAgICAgICBzZWFyY2hfbWF0Y2ggPSBudWxsO1xuICAgICAgICBvcHRpb24uaGlnaGxpZ2h0ZWRfaHRtbCA9ICcnO1xuICAgICAgICBpZiAodGhpcy5pbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzKG9wdGlvbikpIHtcbiAgICAgICAgICBpZiAob3B0aW9uLmdyb3VwKSB7XG4gICAgICAgICAgICBvcHRpb24uZ3JvdXBfbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbi5hY3RpdmVfb3B0aW9ucyA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgob3B0aW9uLmdyb3VwX2FycmF5X2luZGV4ICE9IG51bGwpICYmIHRoaXMucmVzdWx0c19kYXRhW29wdGlvbi5ncm91cF9hcnJheV9pbmRleF0pIHtcbiAgICAgICAgICAgIHJlc3VsdHNfZ3JvdXAgPSB0aGlzLnJlc3VsdHNfZGF0YVtvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHJlc3VsdHNfZ3JvdXAuYWN0aXZlX29wdGlvbnMgPT09IDAgJiYgcmVzdWx0c19ncm91cC5zZWFyY2hfbWF0Y2gpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cyArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0c19ncm91cC5hY3RpdmVfb3B0aW9ucyArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZXh0ID0gb3B0aW9uLmdyb3VwID8gb3B0aW9uLmxhYmVsIDogb3B0aW9uLnRleHQ7XG4gICAgICAgICAgaWYgKCEob3B0aW9uLmdyb3VwICYmICF0aGlzLmdyb3VwX3NlYXJjaCkpIHtcbiAgICAgICAgICAgIHNlYXJjaF9tYXRjaCA9IHRoaXMuc2VhcmNoX3N0cmluZ19tYXRjaCh0ZXh0LCByZWdleCk7XG4gICAgICAgICAgICBvcHRpb24uc2VhcmNoX21hdGNoID0gc2VhcmNoX21hdGNoICE9IG51bGw7XG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlYXJjaF9tYXRjaCAmJiAhb3B0aW9uLmdyb3VwKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb24uc2VhcmNoX21hdGNoKSB7XG4gICAgICAgICAgICAgIGlmIChxdWVyeS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdGFydHBvcyA9IHNlYXJjaF9tYXRjaC5pbmRleDtcbiAgICAgICAgICAgICAgICBwcmVmaXggPSB0ZXh0LnNsaWNlKDAsIHN0YXJ0cG9zKTtcbiAgICAgICAgICAgICAgICBmaXggPSB0ZXh0LnNsaWNlKHN0YXJ0cG9zLCBzdGFydHBvcyArIHF1ZXJ5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgc3VmZml4ID0gdGV4dC5zbGljZShzdGFydHBvcyArIHF1ZXJ5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLmhpZ2hsaWdodGVkX2h0bWwgPSAodGhpcy5lc2NhcGVfaHRtbChwcmVmaXgpKSArIFwiPGVtPlwiICsgKHRoaXMuZXNjYXBlX2h0bWwoZml4KSkgKyBcIjwvZW0+XCIgKyAodGhpcy5lc2NhcGVfaHRtbChzdWZmaXgpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocmVzdWx0c19ncm91cCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0c19ncm91cC5ncm91cF9tYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKG9wdGlvbi5ncm91cF9hcnJheV9pbmRleCAhPSBudWxsKSAmJiB0aGlzLnJlc3VsdHNfZGF0YVtvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXhdLnNlYXJjaF9tYXRjaCkge1xuICAgICAgICAgICAgICBvcHRpb24uc2VhcmNoX21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgaWYgKHJlc3VsdHMgPCAxICYmIHF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQoXCJcIik7XG4gICAgICAgIHJldHVybiB0aGlzLm5vX3Jlc3VsdHMocXVlcnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVfcmVzdWx0c19jb250ZW50KHRoaXMucmVzdWx0c19vcHRpb25fYnVpbGQoKSk7XG4gICAgICAgIGlmICghKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc2tpcF9oaWdobGlnaHQgOiB2b2lkIDApKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHNfc2V0X2hpZ2hsaWdodCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5nZXRfc2VhcmNoX3JlZ2V4ID0gZnVuY3Rpb24oZXNjYXBlZF9zZWFyY2hfc3RyaW5nKSB7XG4gICAgICB2YXIgcmVnZXhfZmxhZywgcmVnZXhfc3RyaW5nO1xuICAgICAgcmVnZXhfc3RyaW5nID0gdGhpcy5zZWFyY2hfY29udGFpbnMgPyBlc2NhcGVkX3NlYXJjaF9zdHJpbmcgOiBcIihefFxcXFxzfFxcXFxiKVwiICsgZXNjYXBlZF9zZWFyY2hfc3RyaW5nICsgXCJbXlxcXFxzXSpcIjtcbiAgICAgIGlmICghKHRoaXMuZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoIHx8IHRoaXMuc2VhcmNoX2NvbnRhaW5zKSkge1xuICAgICAgICByZWdleF9zdHJpbmcgPSBcIl5cIiArIHJlZ2V4X3N0cmluZztcbiAgICAgIH1cbiAgICAgIHJlZ2V4X2ZsYWcgPSB0aGlzLmNhc2Vfc2Vuc2l0aXZlX3NlYXJjaCA/IFwiXCIgOiBcImlcIjtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4X3N0cmluZywgcmVnZXhfZmxhZyk7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfc3RyaW5nX21hdGNoID0gZnVuY3Rpb24oc2VhcmNoX3N0cmluZywgcmVnZXgpIHtcbiAgICAgIHZhciBtYXRjaDtcbiAgICAgIG1hdGNoID0gcmVnZXguZXhlYyhzZWFyY2hfc3RyaW5nKTtcbiAgICAgIGlmICghdGhpcy5zZWFyY2hfY29udGFpbnMgJiYgKG1hdGNoICE9IG51bGwgPyBtYXRjaFsxXSA6IHZvaWQgMCkpIHtcbiAgICAgICAgbWF0Y2guaW5kZXggKz0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZXNfY291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpLCBsZW4sIG9wdGlvbiwgcmVmO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50O1xuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSAwO1xuICAgICAgcmVmID0gdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnM7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgb3B0aW9uID0gcmVmW2ldO1xuICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50O1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuY2hvaWNlc19jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XG4gICAgICBpZiAoISh0aGlzLnJlc3VsdHNfc2hvd2luZyB8fCB0aGlzLmlzX2Rpc2FibGVkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmtleWRvd25fY2hlY2tlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIHJlZiwgc3Ryb2tlO1xuICAgICAgc3Ryb2tlID0gKHJlZiA9IGV2dC53aGljaCkgIT0gbnVsbCA/IHJlZiA6IGV2dC5rZXlDb2RlO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcbiAgICAgIGlmIChzdHJva2UgIT09IDggJiYgdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcbiAgICAgICAgdGhpcy5jbGVhcl9iYWNrc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHN0cm9rZSkge1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgdGhpcy5iYWNrc3Ryb2tlX2xlbmd0aCA9IHRoaXMuZ2V0X3NlYXJjaF9maWVsZF92YWx1ZSgpLmxlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZyAmJiAhdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubW91c2Vfb25fY29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZV9zZWFyY2gpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLmtleXVwX2Fycm93KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5rZXlkb3duX2Fycm93KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5rZXl1cF9jaGVja2VyID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB2YXIgcmVmLCBzdHJva2U7XG4gICAgICBzdHJva2UgPSAocmVmID0gZXZ0LndoaWNoKSAhPSBudWxsID8gcmVmIDogZXZ0LmtleUNvZGU7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuICAgICAgc3dpdGNoIChzdHJva2UpIHtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMuYmFja3N0cm9rZV9sZW5ndGggPCAxICYmIHRoaXMuY2hvaWNlc19jb3VudCgpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5rZXlkb3duX2JhY2tzdHJva2UoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHNfc2VhcmNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aGlzLnJlc3VsdHNfc2VhcmNoKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5jbGlwYm9hcmRfZXZlbnRfY2hlY2tlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKHRoaXMuaXNfZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnJlc3VsdHNfc2VhcmNoKCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSksIDUwKTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl93aWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy53aWR0aCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkLm9mZnNldFdpZHRoICsgXCJweFwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuaW5jbHVkZV9vcHRpb25faW5fcmVzdWx0cyA9IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgKCF0aGlzLmRpc3BsYXlfc2VsZWN0ZWRfb3B0aW9ucyAmJiBvcHRpb24uc2VsZWN0ZWQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5kaXNwbGF5X2Rpc2FibGVkX29wdGlvbnMgJiYgb3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb24uZW1wdHkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c190b3VjaHN0YXJ0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB0aGlzLnRvdWNoX3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdmVyKGV2dCk7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c190b3VjaG1vdmUgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHRoaXMudG91Y2hfc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdXQoZXZ0KTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAodGhpcy50b3VjaF9zdGFydGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNldXAoZXZ0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm91dGVySFRNTCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciB0bXA7XG4gICAgICBpZiAoZWxlbWVudC5vdXRlckhUTUwpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgfVxuICAgICAgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHRtcC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgIHJldHVybiB0bXAuaW5uZXJIVE1MO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuZ2V0X3NpbmdsZV9odG1sID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCI8YSBjbGFzcz1cXFwiY2hvc2VuLXNpbmdsZSBjaG9zZW4tZGVmYXVsdFxcXCI+XFxuICA8aW5wdXQgY2xhc3M9XFxcImNob3Nlbi1mb2N1cy1pbnB1dFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIC8+XFxuICA8c3Bhbj5cIiArIHRoaXMuZGVmYXVsdF90ZXh0ICsgXCI8L3NwYW4+XFxuICA8ZGl2PjxiPjwvYj48L2Rpdj5cXG48L2E+XFxuPGRpdiBjbGFzcz1cXFwiY2hvc2VuLWRyb3BcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwiY2hvc2VuLXNlYXJjaFxcXCI+XFxuICAgIDxpbnB1dCBjbGFzcz1cXFwiY2hvc2VuLXNlYXJjaC1pbnB1dFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIC8+XFxuICA8L2Rpdj5cXG4gIDx1bCBjbGFzcz1cXFwiY2hvc2VuLXJlc3VsdHNcXFwiPjwvdWw+XFxuPC9kaXY+XCI7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5nZXRfbXVsdGlfaHRtbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFwiPHVsIGNsYXNzPVxcXCJjaG9zZW4tY2hvaWNlc1xcXCI+XFxuICA8bGkgY2xhc3M9XFxcInNlYXJjaC1maWVsZFxcXCI+XFxuICAgIDxpbnB1dCBjbGFzcz1cXFwiY2hvc2VuLXNlYXJjaC1pbnB1dFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIHZhbHVlPVxcXCJcIiArIHRoaXMuZGVmYXVsdF90ZXh0ICsgXCJcXFwiIC8+XFxuICA8L2xpPlxcbjwvdWw+XFxuPGRpdiBjbGFzcz1cXFwiY2hvc2VuLWRyb3BcXFwiPlxcbiAgPHVsIGNsYXNzPVxcXCJjaG9zZW4tcmVzdWx0c1xcXCI+PC91bD5cXG48L2Rpdj5cIjtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmdldF9ub19yZXN1bHRzX2h0bWwgPSBmdW5jdGlvbih0ZXJtcykge1xuICAgICAgcmV0dXJuIFwiPGxpIGNsYXNzPVxcXCJuby1yZXN1bHRzXFxcIj5cXG4gIFwiICsgdGhpcy5yZXN1bHRzX25vbmVfZm91bmQgKyBcIiA8c3Bhbj5cIiArICh0aGlzLmVzY2FwZV9odG1sKHRlcm1zKSkgKyBcIjwvc3Bhbj5cXG48L2xpPlwiO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5icm93c2VyX2lzX3N1cHBvcnRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIgPT09IHdpbmRvdy5uYXZpZ2F0b3IuYXBwTmFtZSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID49IDg7XG4gICAgICB9XG4gICAgICBpZiAoL2lQKG9kfGhvbmUpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL0lFTW9iaWxlL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL1dpbmRvd3MgUGhvbmUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSB8fCAvQmxhY2tCZXJyeS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9CQjEwL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL0FuZHJvaWQuKk1vYmlsZS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X211bHRpcGxlX3RleHQgPSBcIlNlbGVjdCBTb21lIE9wdGlvbnNcIjtcblxuICAgIEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfc2luZ2xlX3RleHQgPSBcIlNlbGVjdCBhbiBPcHRpb25cIjtcblxuICAgIEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbm9fcmVzdWx0X3RleHQgPSBcIk5vIHJlc3VsdHMgbWF0Y2hcIjtcblxuICAgIHJldHVybiBBYnN0cmFjdENob3NlbjtcblxuICB9KSgpO1xuXG4gICQgPSBqUXVlcnk7XG5cbiAgJC5mbi5leHRlbmQoe1xuICAgIGNob3NlbjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFBYnN0cmFjdENob3Nlbi5icm93c2VyX2lzX3N1cHBvcnRlZCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbnB1dF9maWVsZCkge1xuICAgICAgICB2YXIgJHRoaXMsIGNob3NlbjtcbiAgICAgICAgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBjaG9zZW4gPSAkdGhpcy5kYXRhKCdjaG9zZW4nKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09ICdkZXN0cm95Jykge1xuICAgICAgICAgIGlmIChjaG9zZW4gaW5zdGFuY2VvZiBDaG9zZW4pIHtcbiAgICAgICAgICAgIGNob3Nlbi5kZXN0cm95KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjaG9zZW4gaW5zdGFuY2VvZiBDaG9zZW4pKSB7XG4gICAgICAgICAgJHRoaXMuZGF0YSgnY2hvc2VuJywgbmV3IENob3Nlbih0aGlzLCBvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgQ2hvc2VuID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoQ2hvc2VuLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIENob3NlbigpIHtcbiAgICAgIHJldHVybiBDaG9zZW4uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxID0gJCh0aGlzLmZvcm1fZmllbGQpO1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4ID0gdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXg7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2V0X3VwX2h0bWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb250YWluZXJfY2xhc3NlcywgY29udGFpbmVyX3Byb3BzO1xuICAgICAgY29udGFpbmVyX2NsYXNzZXMgPSBbXCJjaG9zZW4tY29udGFpbmVyXCJdO1xuICAgICAgY29udGFpbmVyX2NsYXNzZXMucHVzaChcImNob3Nlbi1jb250YWluZXItXCIgKyAodGhpcy5pc19tdWx0aXBsZSA/IFwibXVsdGlcIiA6IFwic2luZ2xlXCIpKTtcbiAgICAgIGlmICh0aGlzLmluaGVyaXRfc2VsZWN0X2NsYXNzZXMgJiYgdGhpcy5mb3JtX2ZpZWxkLmNsYXNzTmFtZSkge1xuICAgICAgICBjb250YWluZXJfY2xhc3Nlcy5wdXNoKHRoaXMuZm9ybV9maWVsZC5jbGFzc05hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNfcnRsKSB7XG4gICAgICAgIGNvbnRhaW5lcl9jbGFzc2VzLnB1c2goXCJjaG9zZW4tcnRsXCIpO1xuICAgICAgfVxuICAgICAgY29udGFpbmVyX3Byb3BzID0ge1xuICAgICAgICAnY2xhc3MnOiBjb250YWluZXJfY2xhc3Nlcy5qb2luKCcgJyksXG4gICAgICAgICd0aXRsZSc6IHRoaXMuZm9ybV9maWVsZC50aXRsZVxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGQuaWQubGVuZ3RoKSB7XG4gICAgICAgIGNvbnRhaW5lcl9wcm9wcy5pZCA9IHRoaXMuZm9ybV9maWVsZC5pZC5yZXBsYWNlKC9bXlxcd10vZywgJ18nKSArIFwiX2Nob3NlblwiO1xuICAgICAgfVxuICAgICAgdGhpcy5jb250YWluZXIgPSAkKFwiPGRpdiAvPlwiLCBjb250YWluZXJfcHJvcHMpO1xuICAgICAgdGhpcy5jb250YWluZXIud2lkdGgodGhpcy5jb250YWluZXJfd2lkdGgoKSk7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5odG1sKHRoaXMuZ2V0X211bHRpX2h0bWwoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5odG1sKHRoaXMuZ2V0X3NpbmdsZV9odG1sKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLmhpZGUoKS5hZnRlcih0aGlzLmNvbnRhaW5lcik7XG4gICAgICB0aGlzLmRyb3Bkb3duID0gdGhpcy5jb250YWluZXIuZmluZCgnZGl2LmNob3Nlbi1kcm9wJykuZmlyc3QoKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkID0gdGhpcy5jb250YWluZXIuZmluZCgnaW5wdXQuY2hvc2VuLXNlYXJjaC1pbnB1dCcpO1xuICAgICAgdGhpcy5mb2N1c19maWVsZCA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2lucHV0LmNob3Nlbi1mb2N1cy1pbnB1dCcpO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cyA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ3VsLmNob3Nlbi1yZXN1bHRzJykuZmlyc3QoKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICB0aGlzLnNlYXJjaF9ub19yZXN1bHRzID0gdGhpcy5jb250YWluZXIuZmluZCgnbGkubm8tcmVzdWx0cycpLmZpcnN0KCk7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICB0aGlzLnNlYXJjaF9jaG9pY2VzID0gdGhpcy5jb250YWluZXIuZmluZCgndWwuY2hvc2VuLWNob2ljZXMnKS5maXJzdCgpO1xuICAgICAgICB0aGlzLnNlYXJjaF9jb250YWluZXIgPSB0aGlzLmNvbnRhaW5lci5maW5kKCdsaS5zZWFyY2gtZmllbGQnKS5maXJzdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWFyY2hfY29udGFpbmVyID0gdGhpcy5jb250YWluZXIuZmluZCgnZGl2LmNob3Nlbi1zZWFyY2gnKS5maXJzdCgpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2l0ZW0gPSB0aGlzLmNvbnRhaW5lci5maW5kKCcuY2hvc2VuLXNpbmdsZScpLmZpcnN0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc3VsdHNfYnVpbGQoKTtcbiAgICAgIHRoaXMuc2V0X3RhYl9pbmRleCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0X2xhYmVsX2JlaGF2aW9yKCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUub25fcmVhZHkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNob3NlbjpyZWFkeVwiLCB7XG4gICAgICAgIGNob3NlbjogdGhpc1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVnaXN0ZXJfb2JzZXJ2ZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdHJhbnNmZXJfdmFsdWU7XG4gICAgICB0aGlzLmNvbnRhaW5lci5vbigndG91Y2hzdGFydC5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLmNvbnRhaW5lcl9tb3VzZWRvd24oZXZ0KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLm9uKCd0b3VjaGVuZC5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLmNvbnRhaW5lcl9tb3VzZXVwKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5vbignbW91c2Vkb3duLmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgX3RoaXMuY29udGFpbmVyX21vdXNlZG93bihldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5jb250YWluZXIub24oJ21vdXNldXAuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5jb250YWluZXJfbW91c2V1cChldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5jb250YWluZXIub24oJ21vdXNlZW50ZXIuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5tb3VzZV9lbnRlcihldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5jb250YWluZXIub24oJ21vdXNlbGVhdmUuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5tb3VzZV9sZWF2ZShldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5vbignbW91c2V1cC5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNldXAoZXZ0KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMub24oJ21vdXNlb3Zlci5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNlb3ZlcihldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5vbignbW91c2VvdXQuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZW91dChldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5vbignbW91c2V3aGVlbC5jaG9zZW4gRE9NTW91c2VTY3JvbGwuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZXdoZWVsKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLm9uKCd0b3VjaHN0YXJ0LmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydChldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5vbigndG91Y2htb3ZlLmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfdG91Y2htb3ZlKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLm9uKCd0b3VjaGVuZC5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEub24oXCJjaG9zZW46dXBkYXRlZC5jaG9zZW5cIiwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5yZXN1bHRzX3VwZGF0ZV9maWVsZChldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLm9uKFwiY2hvc2VuOmFjdGl2YXRlLmNob3NlblwiLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLmFjdGl2YXRlX2ZpZWxkKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEub24oXCJjaG9zZW46b3Blbi5jaG9zZW5cIiwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEub24oXCJjaG9zZW46Y2xvc2UuY2hvc2VuXCIsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgX3RoaXMuY2xvc2VfZmllbGQoZXZ0KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLm9uKCdibHVyLmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgX3RoaXMuaW5wdXRfYmx1cihldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQub24oJ2tleXVwLmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgX3RoaXMua2V5dXBfY2hlY2tlcihldnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQub24oJ2tleWRvd24uY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5rZXlkb3duX2NoZWNrZXIoZXZ0KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLm9uKCdmb2N1cy5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLmlucHV0X2ZvY3VzKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC5vbignY3V0LmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgX3RoaXMuY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIoZXZ0KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLm9uKCdwYXN0ZS5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLmNsaXBib2FyZF9ldmVudF9jaGVja2VyKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfY2hvaWNlcy5vbignY2xpY2suY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuY2hvaWNlc19jbGljayhldnQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pKHRoaXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm9uKCdjbGljay5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZm9jdXNfZmllbGQub24oJ2JsdXIuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuaW5wdXRfYmx1cihldnQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pKHRoaXMpKTtcbiAgICAgICAgdGhpcy5mb2N1c19maWVsZC5vbignZm9jdXMuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuaW5wdXRfZm9jdXMoZXZ0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KSh0aGlzKSk7XG4gICAgICAgIHRyYW5zZmVyX3ZhbHVlID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3RoaXMuc2VhcmNoX2ZpZWxkLnZhbChfdGhpcy5mb2N1c19maWVsZC52YWwoKSk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZm9jdXNfZmllbGQudmFsKCcnKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KSh0aGlzKTtcbiAgICAgICAgdGhpcy5mb2N1c19maWVsZC5vbigna2V5dXAuY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgdHJhbnNmZXJfdmFsdWUoKTtcbiAgICAgICAgICAgIF90aGlzLmtleXVwX2NoZWNrZXIoZXZ0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KSh0aGlzKSk7XG4gICAgICAgIHRoaXMuZm9jdXNfZmllbGQub24oJ2tleWRvd24uY2hvc2VuJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgdHJhbnNmZXJfdmFsdWUoKTtcbiAgICAgICAgICAgIF90aGlzLmtleWRvd25fY2hlY2tlcihldnQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pKHRoaXMpKTtcbiAgICAgICAgdGhpcy5mb2N1c19maWVsZC5vbignY3V0LmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodHJhbnNmZXJfdmFsdWUsIDApO1xuICAgICAgICAgICAgX3RoaXMuY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIoZXZ0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KSh0aGlzKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZvY3VzX2ZpZWxkLm9uKCdwYXN0ZS5jaG9zZW4nLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRyYW5zZmVyX3ZhbHVlLCAwKTtcbiAgICAgICAgICAgIF90aGlzLmNsaXBib2FyZF9ldmVudF9jaGVja2VyKGV2dCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSkodGhpcykpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcy5jb250YWluZXJbMF0ub3duZXJEb2N1bWVudCkub2ZmKCdjbGljay5jaG9zZW4nLCB0aGlzLmNsaWNrX3Rlc3RfYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGRfbGFiZWwubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmZvcm1fZmllbGRfbGFiZWwub2ZmKCdjbGljay5jaG9zZW4nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlYXJjaF9maWVsZFswXS50YWJJbmRleCkge1xuICAgICAgICB0aGlzLmZvcm1fZmllbGRfanFbMF0udGFiSW5kZXggPSB0aGlzLnNlYXJjaF9maWVsZFswXS50YWJJbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnJlbW92ZURhdGEoJ2Nob3NlbicpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS5zaG93KCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX2ZpZWxkX2Rpc2FibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmlzX2Rpc2FibGVkID0gdGhpcy5mb3JtX2ZpZWxkLmRpc2FibGVkIHx8IHRoaXMuZm9ybV9maWVsZF9qcS5wYXJlbnRzKCdmaWVsZHNldCcpLmlzKCc6ZGlzYWJsZWQnKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLnRvZ2dsZUNsYXNzKCdjaG9zZW4tZGlzYWJsZWQnLCB0aGlzLmlzX2Rpc2FibGVkKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLmRpc2FibGVkID0gdGhpcy5pc19kaXNhYmxlZDtcbiAgICAgIGlmICghdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2l0ZW0ub2ZmKCdmb2N1cy5jaG9zZW4nLCB0aGlzLmFjdGl2YXRlX2ZpZWxkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzX2Rpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlX2ZpZWxkKCk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX2l0ZW0ub24oJ2ZvY3VzLmNob3NlbicsIHRoaXMuYWN0aXZhdGVfZmllbGQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl9tb3VzZWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciByZWY7XG4gICAgICBpZiAodGhpcy5pc19kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXZ0ICYmICgocmVmID0gZXZ0LnR5cGUpID09PSAnbW91c2Vkb3duJyB8fCByZWYgPT09ICd0b3VjaHN0YXJ0JykgJiYgIXRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgaWYgKCEoKGV2dCAhPSBudWxsKSAmJiAoJChldnQudGFyZ2V0KSkuaGFzQ2xhc3MoXCJzZWFyY2gtY2hvaWNlLWNsb3NlXCIpKSkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbChcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJCh0aGlzLmNvbnRhaW5lclswXS5vd25lckRvY3VtZW50KS5vbignY2xpY2suY2hvc2VuJywgdGhpcy5jbGlja190ZXN0X2FjdGlvbik7XG4gICAgICAgICAgdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5pc19tdWx0aXBsZSAmJiBldnQgJiYgKCgkKGV2dC50YXJnZXQpWzBdID09PSB0aGlzLnNlbGVjdGVkX2l0ZW1bMF0pIHx8ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcImEuY2hvc2VuLXNpbmdsZVwiKS5sZW5ndGgpKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5yZXN1bHRzX3RvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuY29udGFpbmVyX21vdXNldXAgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmIChldnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkFCQlJcIiAmJiAhdGhpcy5pc19kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Jlc2V0KGV2dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2V3aGVlbCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIGRlbHRhO1xuICAgICAgaWYgKGV2dC5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGRlbHRhID0gZXZ0Lm9yaWdpbmFsRXZlbnQuZGVsdGFZIHx8IC1ldnQub3JpZ2luYWxFdmVudC53aGVlbERlbHRhIHx8IGV2dC5vcmlnaW5hbEV2ZW50LmRldGFpbDtcbiAgICAgIH1cbiAgICAgIGlmIChkZWx0YSAhPSBudWxsKSB7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICdET01Nb3VzZVNjcm9sbCcpIHtcbiAgICAgICAgICBkZWx0YSA9IGRlbHRhICogNDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKGRlbHRhICsgdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuYmx1cl90ZXN0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkICYmIHRoaXMuY29udGFpbmVyLmhhc0NsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIikpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2VfZmllbGQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jbG9zZV9maWVsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgJCh0aGlzLmNvbnRhaW5lclswXS5vd25lckRvY3VtZW50KS5vZmYoXCJjbGljay5jaG9zZW5cIiwgdGhpcy5jbGlja190ZXN0X2FjdGlvbik7XG4gICAgICB0aGlzLmFjdGl2ZV9maWVsZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIik7XG4gICAgICB0aGlzLmNsZWFyX2JhY2tzdHJva2UoKTtcbiAgICAgIHRoaXMuc2hvd19zZWFyY2hfZmllbGRfZGVmYXVsdCgpO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5ibHVyKCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuYWN0aXZhdGVfZmllbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmlzX2Rpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIik7XG4gICAgICB0aGlzLmFjdGl2ZV9maWVsZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGQuZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS50ZXN0X2FjdGl2ZV9jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIGFjdGl2ZV9jb250YWluZXI7XG4gICAgICBhY3RpdmVfY29udGFpbmVyID0gJChldnQudGFyZ2V0KS5jbG9zZXN0KCcuY2hvc2VuLWNvbnRhaW5lcicpO1xuICAgICAgaWYgKGFjdGl2ZV9jb250YWluZXIubGVuZ3RoICYmIHRoaXMuY29udGFpbmVyWzBdID09PSBhY3RpdmVfY29udGFpbmVyWzBdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZV9maWVsZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZV9maWVsZCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfYnVpbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucGFyc2luZyA9IHRydWU7XG4gICAgICB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudCA9IG51bGw7XG4gICAgICB0aGlzLnJlc3VsdHNfZGF0YSA9IFNlbGVjdFBhcnNlci5zZWxlY3RfdG9fYXJyYXkodGhpcy5mb3JtX2ZpZWxkKTtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoX2Nob2ljZXMuZmluZChcImxpLnNlYXJjaC1jaG9pY2VcIikucmVtb3ZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCgpO1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlX3NlYXJjaCB8fCB0aGlzLmZvcm1fZmllbGQub3B0aW9ucy5sZW5ndGggPD0gdGhpcy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQpIHtcbiAgICAgICAgICB0aGlzLnNlYXJjaF9maWVsZFswXS5yZWFkT25seSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5mb2N1c19maWVsZFswXS5yZWFkT25seSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoXCJjaG9zZW4tY29udGFpbmVyLXNpbmdsZS1ub3NlYXJjaFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlYXJjaF9maWVsZFswXS5yZWFkT25seSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuZm9jdXNfZmllbGRbMF0ucmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImNob3Nlbi1jb250YWluZXItc2luZ2xlLW5vc2VhcmNoXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQodGhpcy5yZXN1bHRzX29wdGlvbl9idWlsZCh7XG4gICAgICAgIGZpcnN0OiB0cnVlXG4gICAgICB9KSk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9kaXNhYmxlZCgpO1xuICAgICAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuICAgICAgcmV0dXJuIHRoaXMucGFyc2luZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9kb19oaWdobGlnaHQgPSBmdW5jdGlvbihlbCkge1xuICAgICAgdmFyIGhpZ2hfYm90dG9tLCBoaWdoX3RvcCwgbWF4SGVpZ2h0LCB2aXNpYmxlX2JvdHRvbSwgdmlzaWJsZV90b3A7XG4gICAgICBpZiAoZWwubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHQgPSBlbDtcbiAgICAgICAgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0LmFkZENsYXNzKFwiaGlnaGxpZ2h0ZWRcIik7XG4gICAgICAgIG1heEhlaWdodCA9IHBhcnNlSW50KHRoaXMuc2VhcmNoX3Jlc3VsdHMuY3NzKFwibWF4SGVpZ2h0XCIpLCAxMCk7XG4gICAgICAgIHZpc2libGVfdG9wID0gdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoKTtcbiAgICAgICAgdmlzaWJsZV9ib3R0b20gPSBtYXhIZWlnaHQgKyB2aXNpYmxlX3RvcDtcbiAgICAgICAgaGlnaF90b3AgPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQucG9zaXRpb24oKS50b3AgKyB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcCgpO1xuICAgICAgICBoaWdoX2JvdHRvbSA9IGhpZ2hfdG9wICsgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0Lm91dGVySGVpZ2h0KCk7XG4gICAgICAgIGlmIChoaWdoX2JvdHRvbSA+PSB2aXNpYmxlX2JvdHRvbSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcCgoaGlnaF9ib3R0b20gLSBtYXhIZWlnaHQpID4gMCA/IGhpZ2hfYm90dG9tIC0gbWF4SGVpZ2h0IDogMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaF90b3AgPCB2aXNpYmxlX3RvcCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcChoaWdoX3RvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVzdWx0X2hpZ2hsaWdodC5yZW1vdmVDbGFzcyhcImhpZ2hsaWdodGVkXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2hpZ2hsaWdodCA9IG51bGw7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSAmJiB0aGlzLm1heF9zZWxlY3RlZF9vcHRpb25zIDw9IHRoaXMuY2hvaWNlc19jb3VudCgpKSB7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOm1heHNlbGVjdGVkXCIsIHtcbiAgICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKFwiY2hvc2VuLXdpdGgtZHJvcFwiKTtcbiAgICAgIHRoaXMucmVzdWx0c19zaG93aW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwodGhpcy5nZXRfc2VhcmNoX2ZpZWxkX3ZhbHVlKCkpO1xuICAgICAgdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOnNob3dpbmdfZHJvcGRvd25cIiwge1xuICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5odG1sKGNvbnRlbnQpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZm9jdXNfZmllbGQuZm9jdXMoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KSh0aGlzKSksIDApO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImNob3Nlbi13aXRoLWRyb3BcIik7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOmhpZGluZ19kcm9wZG93blwiLCB7XG4gICAgICAgICAgY2hvc2VuOiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2V0X3RhYl9pbmRleCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICB2YXIgcmVmLCB0aTtcbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGQudGFiSW5kZXgpIHtcbiAgICAgICAgdGkgPSB0aGlzLmZvcm1fZmllbGQudGFiSW5kZXg7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZC50YWJJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLnNlYXJjaF9maWVsZFswXS50YWJJbmRleCA9IHRpO1xuICAgICAgICByZXR1cm4gKHJlZiA9IHRoaXMuZm9jdXNfZmllbGRbMF0pICE9IG51bGwgPyByZWYudGFiSW5kZXggPSB0aSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZXRfbGFiZWxfYmVoYXZpb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZm9ybV9maWVsZF9sYWJlbCA9IHRoaXMuZm9ybV9maWVsZF9qcS5wYXJlbnRzKFwibGFiZWxcIik7XG4gICAgICBpZiAoIXRoaXMuZm9ybV9maWVsZF9sYWJlbC5sZW5ndGggJiYgdGhpcy5mb3JtX2ZpZWxkLmlkLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmZvcm1fZmllbGRfbGFiZWwgPSAkKFwibGFiZWxbZm9yPSdcIiArIHRoaXMuZm9ybV9maWVsZC5pZCArIFwiJ11cIik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mb3JtX2ZpZWxkX2xhYmVsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9sYWJlbC5vbignY2xpY2suY2hvc2VuJywgdGhpcy5sYWJlbF9jbGlja19oYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSAmJiB0aGlzLmNob2ljZXNfY291bnQoKSA8IDEgJiYgIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCh0aGlzLmRlZmF1bHRfdGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5hZGRDbGFzcyhcImRlZmF1bHRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwoXCJcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5yZW1vdmVDbGFzcyhcImRlZmF1bHRcIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2V1cCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIHRhcmdldDtcbiAgICAgIHRhcmdldCA9ICQoZXZ0LnRhcmdldCkuaGFzQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpID8gJChldnQudGFyZ2V0KSA6ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcIi5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucmVzdWx0X3NlbGVjdChldnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciB0YXJnZXQ7XG4gICAgICB0YXJnZXQgPSAkKGV2dC50YXJnZXQpLmhhc0NsYXNzKFwiYWN0aXZlLXJlc3VsdFwiKSA/ICQoZXZ0LnRhcmdldCkgOiAkKGV2dC50YXJnZXQpLnBhcmVudHMoXCIuYWN0aXZlLXJlc3VsdFwiKS5maXJzdCgpO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfZG9faGlnaGxpZ2h0KHRhcmdldCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdXQgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICgkKGV2dC50YXJnZXQpLmhhc0NsYXNzKFwiYWN0aXZlLXJlc3VsdFwiKSB8fCAkKGV2dC50YXJnZXQpLnBhcmVudHMoJy5hY3RpdmUtcmVzdWx0JykuZmlyc3QoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuY2hvaWNlX2J1aWxkID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgdmFyIGNob2ljZSwgY2xvc2VfbGluaztcbiAgICAgIGNob2ljZSA9ICQoJzxsaSAvPicsIHtcbiAgICAgICAgXCJjbGFzc1wiOiBcInNlYXJjaC1jaG9pY2VcIlxuICAgICAgfSkuaHRtbChcIjxzcGFuPlwiICsgKHRoaXMuY2hvaWNlX2xhYmVsKGl0ZW0pKSArIFwiPC9zcGFuPlwiKTtcbiAgICAgIGlmIChpdGVtLmRpc2FibGVkKSB7XG4gICAgICAgIGNob2ljZS5hZGRDbGFzcygnc2VhcmNoLWNob2ljZS1kaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xvc2VfbGluayA9ICQoJzxhIC8+Jywge1xuICAgICAgICAgIFwiY2xhc3NcIjogJ3NlYXJjaC1jaG9pY2UtY2xvc2UnLFxuICAgICAgICAgICdkYXRhLW9wdGlvbi1hcnJheS1pbmRleCc6IGl0ZW0uYXJyYXlfaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIGNsb3NlX2xpbmsub24oJ2NsaWNrLmNob3NlbicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jaG9pY2VfZGVzdHJveV9saW5rX2NsaWNrKGV2dCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSkodGhpcykpO1xuICAgICAgICBjaG9pY2UuYXBwZW5kKGNsb3NlX2xpbmspO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2NvbnRhaW5lci5iZWZvcmUoY2hvaWNlKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfZGVzdHJveV9saW5rX2NsaWNrID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmICghdGhpcy5pc19kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaG9pY2VfZGVzdHJveSgkKGV2dC50YXJnZXQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfZGVzdHJveSA9IGZ1bmN0aW9uKGxpbmspIHtcbiAgICAgIGlmICh0aGlzLnJlc3VsdF9kZXNlbGVjdChsaW5rWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtb3B0aW9uLWFycmF5LWluZGV4XCIpKSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVfZmllbGQpIHtcbiAgICAgICAgICB0aGlzLnNlYXJjaF9maWVsZC5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2hvd19zZWFyY2hfZmllbGRfZGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMuY2hvaWNlc19jb3VudCgpID4gMCAmJiB0aGlzLmdldF9zZWFyY2hfZmllbGRfdmFsdWUoKS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBsaW5rLnBhcmVudHMoJ2xpJykuZmlyc3QoKS5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5yZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMoKTtcbiAgICAgIHRoaXMuZm9ybV9maWVsZC5vcHRpb25zWzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0KCk7XG4gICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcbiAgICAgIHRoaXMucmVzdWx0c19yZXNldF9jbGVhbnVwKCk7XG4gICAgICB0aGlzLnRyaWdnZXJfZm9ybV9maWVsZF9jaGFuZ2UoKTtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZV9maWVsZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3Jlc2V0X2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4ID0gdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXg7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZF9pdGVtLmZpbmQoXCJhYmJyXCIpLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9zZWxlY3QgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBoaWdoLCBpdGVtO1xuICAgICAgaWYgKHRoaXMucmVzdWx0X2hpZ2hsaWdodCkge1xuICAgICAgICBoaWdoID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0O1xuICAgICAgICB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyA8PSB0aGlzLmNob2ljZXNfY291bnQoKSkge1xuICAgICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOm1heHNlbGVjdGVkXCIsIHtcbiAgICAgICAgICAgIGNob3NlbjogdGhpc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgIGhpZ2gucmVtb3ZlQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVzZXRfc2luZ2xlX3NlbGVjdF9vcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgaGlnaC5hZGRDbGFzcyhcInJlc3VsdC1zZWxlY3RlZFwiKTtcbiAgICAgICAgaXRlbSA9IHRoaXMucmVzdWx0c19kYXRhW2hpZ2hbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24tYXJyYXktaW5kZXhcIildO1xuICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbaXRlbS5vcHRpb25zX2luZGV4XS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICB0aGlzLmNob2ljZV9idWlsZChpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCh0aGlzLmNob2ljZV9sYWJlbChpdGVtKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgKCF0aGlzLmhpZGVfcmVzdWx0c19vbl9zZWxlY3QgfHwgKGV2dC5tZXRhS2V5IHx8IGV2dC5jdHJsS2V5KSkpIHtcbiAgICAgICAgICBpZiAoZXZ0Lm1ldGFLZXkgfHwgZXZ0LmN0cmxLZXkpIHtcbiAgICAgICAgICAgIHRoaXMud2lubm93X3Jlc3VsdHMoe1xuICAgICAgICAgICAgICBza2lwX2hpZ2hsaWdodDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbChcIlwiKTtcbiAgICAgICAgICAgIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSB8fCB0aGlzLmZvcm1fZmllbGQuc2VsZWN0ZWRJbmRleCAhPT0gdGhpcy5jdXJyZW50X3NlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICB0aGlzLnRyaWdnZXJfZm9ybV9maWVsZF9jaGFuZ2Uoe1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW2l0ZW0ub3B0aW9uc19pbmRleF0udmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRJbmRleCA9IHRoaXMuZm9ybV9maWVsZC5zZWxlY3RlZEluZGV4O1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgaWYgKHRleHQgPT0gbnVsbCkge1xuICAgICAgICB0ZXh0ID0gdGhpcy5kZWZhdWx0X3RleHQ7XG4gICAgICB9XG4gICAgICBpZiAodGV4dCA9PT0gdGhpcy5kZWZhdWx0X3RleHQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtLmFkZENsYXNzKFwiY2hvc2VuLWRlZmF1bHRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNpbmdsZV9kZXNlbGVjdF9jb250cm9sX2J1aWxkKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfaXRlbS5yZW1vdmVDbGFzcyhcImNob3Nlbi1kZWZhdWx0XCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwic3BhblwiKS5odG1sKHRleHQpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9kZXNlbGVjdCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgdmFyIHJlc3VsdF9kYXRhO1xuICAgICAgcmVzdWx0X2RhdGEgPSB0aGlzLnJlc3VsdHNfZGF0YVtwb3NdO1xuICAgICAgaWYgKCF0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tyZXN1bHRfZGF0YS5vcHRpb25zX2luZGV4XS5kaXNhYmxlZCkge1xuICAgICAgICByZXN1bHRfZGF0YS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tyZXN1bHRfZGF0YS5vcHRpb25zX2luZGV4XS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgICB0aGlzLndpbm5vd19yZXN1bHRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmlnZ2VyX2Zvcm1fZmllbGRfY2hhbmdlKHtcbiAgICAgICAgICBkZXNlbGVjdGVkOiB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tyZXN1bHRfZGF0YS5vcHRpb25zX2luZGV4XS52YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2luZ2xlX2Rlc2VsZWN0X2NvbnRyb2xfYnVpbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5hbGxvd19zaW5nbGVfZGVzZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkX2l0ZW0uZmluZChcImFiYnJcIikubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwic3BhblwiKS5maXJzdCgpLmFmdGVyKFwiPGFiYnIgY2xhc3M9XFxcInNlYXJjaC1jaG9pY2UtY2xvc2VcXFwiPjwvYWJicj5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZF9pdGVtLmFkZENsYXNzKFwiY2hvc2VuLXNpbmdsZS13aXRoLWRlc2VsZWN0XCIpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmdldF9zZWFyY2hfZmllbGRfdmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC52YWwoKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5nZXRfc2VhcmNoX3RleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkLnRyaW0odGhpcy5nZXRfc2VhcmNoX2ZpZWxkX3ZhbHVlKCkpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmVzY2FwZV9odG1sID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgcmV0dXJuICQoJzxkaXYvPicpLnRleHQodGV4dCkuaHRtbCgpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLndpbm5vd19yZXN1bHRzX3NldF9oaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkb19oaWdoLCBzZWxlY3RlZF9yZXN1bHRzO1xuICAgICAgc2VsZWN0ZWRfcmVzdWx0cyA9ICF0aGlzLmlzX211bHRpcGxlID8gdGhpcy5zZWFyY2hfcmVzdWx0cy5maW5kKFwiLnJlc3VsdC1zZWxlY3RlZC5hY3RpdmUtcmVzdWx0XCIpIDogW107XG4gICAgICBkb19oaWdoID0gc2VsZWN0ZWRfcmVzdWx0cy5sZW5ndGggPyBzZWxlY3RlZF9yZXN1bHRzLmZpcnN0KCkgOiB0aGlzLnNlYXJjaF9yZXN1bHRzLmZpbmQoXCIuYWN0aXZlLXJlc3VsdFwiKS5maXJzdCgpO1xuICAgICAgaWYgKGRvX2hpZ2ggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfZG9faGlnaGxpZ2h0KGRvX2hpZ2gpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLm5vX3Jlc3VsdHMgPSBmdW5jdGlvbih0ZXJtcykge1xuICAgICAgdmFyIG5vX3Jlc3VsdHNfaHRtbDtcbiAgICAgIG5vX3Jlc3VsdHNfaHRtbCA9IHRoaXMuZ2V0X25vX3Jlc3VsdHNfaHRtbCh0ZXJtcyk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLmFwcGVuZChub19yZXN1bHRzX2h0bWwpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOm5vX3Jlc3VsdHNcIiwge1xuICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLm5vX3Jlc3VsdHNfY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLmZpbmQoXCIubm8tcmVzdWx0c1wiKS5yZW1vdmUoKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2Fycm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV4dF9zaWI7XG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcgJiYgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XG4gICAgICAgIG5leHRfc2liID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0Lm5leHRBbGwoXCJsaS5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG4gICAgICAgIGlmIChuZXh0X3NpYikge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQobmV4dF9zaWIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXl1cF9hcnJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHByZXZfc2licztcbiAgICAgIGlmICghdGhpcy5yZXN1bHRzX3Nob3dpbmcgJiYgIXRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVzdWx0X2hpZ2hsaWdodCkge1xuICAgICAgICBwcmV2X3NpYnMgPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQucHJldkFsbChcImxpLmFjdGl2ZS1yZXN1bHRcIik7XG4gICAgICAgIGlmIChwcmV2X3NpYnMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2RvX2hpZ2hsaWdodChwcmV2X3NpYnMuZmlyc3QoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuY2hvaWNlc19jb3VudCgpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUua2V5ZG93bl9iYWNrc3Ryb2tlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV4dF9hdmFpbGFibGVfZGVzdHJveTtcbiAgICAgIGlmICh0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSkge1xuICAgICAgICB0aGlzLmNob2ljZV9kZXN0cm95KHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlLmZpbmQoXCJhXCIpLmZpcnN0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbGVhcl9iYWNrc3Ryb2tlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0X2F2YWlsYWJsZV9kZXN0cm95ID0gdGhpcy5zZWFyY2hfY29udGFpbmVyLnNpYmxpbmdzKFwibGkuc2VhcmNoLWNob2ljZVwiKS5sYXN0KCk7XG4gICAgICAgIGlmIChuZXh0X2F2YWlsYWJsZV9kZXN0cm95Lmxlbmd0aCAmJiAhbmV4dF9hdmFpbGFibGVfZGVzdHJveS5oYXNDbGFzcyhcInNlYXJjaC1jaG9pY2UtZGlzYWJsZWRcIikpIHtcbiAgICAgICAgICB0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSA9IG5leHRfYXZhaWxhYmxlX2Rlc3Ryb3k7XG4gICAgICAgICAgaWYgKHRoaXMuc2luZ2xlX2JhY2tzdHJva2VfZGVsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlkb3duX2JhY2tzdHJva2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlLmFkZENsYXNzKFwic2VhcmNoLWNob2ljZS1mb2N1c1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jbGVhcl9iYWNrc3Ryb2tlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UucmVtb3ZlQ2xhc3MoXCJzZWFyY2gtY2hvaWNlLWZvY3VzXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfZmllbGRfc2NhbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaXYsIGksIGxlbiwgc3R5bGUsIHN0eWxlX2Jsb2NrLCBzdHlsZXMsIHdpZHRoO1xuICAgICAgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHN0eWxlX2Jsb2NrID0ge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgbGVmdDogJy0xMDAwcHgnLFxuICAgICAgICB0b3A6ICctMTAwMHB4JyxcbiAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICB3aGl0ZVNwYWNlOiAncHJlJ1xuICAgICAgfTtcbiAgICAgIHN0eWxlcyA9IFsnZm9udFNpemUnLCAnZm9udFN0eWxlJywgJ2ZvbnRXZWlnaHQnLCAnZm9udEZhbWlseScsICdsaW5lSGVpZ2h0JywgJ3RleHRUcmFuc2Zvcm0nLCAnbGV0dGVyU3BhY2luZyddO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gc3R5bGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICBzdHlsZV9ibG9ja1tzdHlsZV0gPSB0aGlzLnNlYXJjaF9maWVsZC5jc3Moc3R5bGUpO1xuICAgICAgfVxuICAgICAgZGl2ID0gJCgnPGRpdiAvPicpLmNzcyhzdHlsZV9ibG9jayk7XG4gICAgICBkaXYudGV4dCh0aGlzLmdldF9zZWFyY2hfZmllbGRfdmFsdWUoKSk7XG4gICAgICAkKCdib2R5JykuYXBwZW5kKGRpdik7XG4gICAgICB3aWR0aCA9IGRpdi53aWR0aCgpICsgMjU7XG4gICAgICBkaXYucmVtb3ZlKCk7XG4gICAgICBpZiAodGhpcy5jb250YWluZXIuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLm1pbih0aGlzLmNvbnRhaW5lci5vdXRlcldpZHRoKCkgLSAxMCwgd2lkdGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLndpZHRoKHdpZHRoKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS50cmlnZ2VyX2Zvcm1fZmllbGRfY2hhbmdlID0gZnVuY3Rpb24oZXh0cmEpIHtcbiAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiaW5wdXRcIiwgZXh0cmEpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hhbmdlXCIsIGV4dHJhKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENob3NlbjtcblxuICB9KShBYnN0cmFjdENob3Nlbik7XG5cbn0pLmNhbGwodGhpcyk7XG4iXX0=
